# План реализации CalDavServer

## 1. Архитектура и структура проекта
- [x] Создать структуру каталогов и файлов проекта
- [x] Добавить README с описанием

## 2. Модели и база данных
- [x] Модель User
- [x] Модель Calendar
- [x] Модель Event
- [x] Контекст ApplicationDbContext для EF Core
- [ ] Миграции и настройка подключения к реальной БД
- [ ] Модели ACL и прав доступа

## 3. Контроллеры и API
- [x] CalDavController (заглушка)
- [x] CalendarController (CRUD, заглушка)
- [x] EventController (CRUD, заглушка)
- [x] AuthController (заглушка)
- [ ] Реализация CalDAV/WebDAV-методов (PROPFIND, REPORT, PUT, DELETE, MKCALENDAR и др.)
- [ ] Реализация ACL и делегирования

## 4. Сервисы и бизнес-логика
- [x] CalendarService (заглушка)
- [x] EventService (заглушка)
- [x] AuthService (заглушка)
- [ ] Реализация бизнес-логики для календарей, событий, аутентификации
- [ ] Импорт/экспорт .ics
- [ ] Free-busy отчеты

## 5. Утилиты
- [x] IcsHelper (заглушка)
- [x] WebDavHelper (заглушка)
- [ ] Парсинг и генерация iCalendar
- [ ] Парсинг и генерация WebDAV XML

## 6. DTO и маппинг
- [x] CalendarDto
- [x] EventDto
- [x] UserDto
- [ ] Маппинг между моделями и DTO

## 7. Конфигурация и инфраструктура
- [x] appsettings.json (базовый)
- [ ] Настройка EF Core и миграций
- [ ] Настройка аутентификации (Basic, OAuth2)
- [ ] Настройка HTTPS

## 8. Тестирование
- [x] Примеры юнит-тестов для сервисов
- [ ] Покрытие бизнес-логики тестами
- [ ] Интеграционные тесты с CalDAV-клиентами

## 9. Документация
- [x] README.md
- [ ] Swagger/OpenAPI для REST API
- [ ] Архитектурная документация
- [ ] Руководство по установке и эксплуатации

---

## Что еще требуется сделать

- Реализовать бизнес-логику для всех сервисов и контроллеров
- Настроить подключение к реальной БД и миграции
- Реализовать обработку CalDAV/WebDAV-методов согласно спецификациям
- Реализовать ACL и делегирование прав
- Импорт/экспорт событий в формате iCalendar
- Реализовать аутентификацию (Basic, OAuth2)
- Настроить HTTPS и безопасность
- Покрыть тестами бизнес-логику и интеграцию с клиентами
- Подготовить Swagger/OpenAPI и архитектурную документацию
- Провести тестирование с реальными CalDAV-клиентами